<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/style.css" />
    <title>Tiny Timer!</title>
</head>

<body>
    <h1>Tiny Timer!</h1>
    <div>
        <button id="boot">BOOT</button>
        <button class="goEvent" id="timer_2m">2 minutes</button>
        <button class="goEvent" id="timer_10m">10 seconds</button>
        <button class="goEvent" id="cancel">Cancel</button>
    </div>
    <h1>
        <!--for spacing-->
    </h1>
    <ol>
        <li class="led" id="led00"></li>
        <li class="led" id="led01"></li>
        <li class="led" id="led02"></li>
        <li class="led" id="led03"></li>
        <li class="led" id="led04"></li>
        <li class="led" id="led05"></li>

        <li class="led" id="led06"></li>
        <li class="led" id="led07"></li>
        <li class="led" id="led08"></li>
        <li class="led" id="led09"></li>
        <li class="led" id="led10"></li>
        <li class="led" id="led11"></li>

        <li class="led" id="led12"></li>
        <li class="led" id="led13"></li>
        <li class="led" id="led14"></li>
        <li class="led" id="led15"></li>
        <li class="led" id="led16"></li>
        <li class="led" id="led17"></li>

        <li class="led" id="led18"></li>
        <li class="led" id="led19"></li>
        <li class="led" id="led20"></li>
        <li class="led" id="led21"></li>
        <li class="led" id="led22"></li>
        <li class="led" id="led23"></li>
    </ol>
    <script src="/js/jquery-3.4.1.js"></script>
    <script src="/js/wasm_exec.js"></script>
    <script>
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("/main.wasm", { cache: "no-store" }), go.importObject)
            .then((result) => {
                // Start the go app, which registers 'go' prefixed functions
                go.run(result.instance);
                // Set up button handlers
                $(function () {
                    $("#boot").click(function () { location.reload(); })
                    $(".goEvent").click(function (e) { goHandleClick(e.target.id); })
                })
                // Signal page load to go app
                $(goLoad)
            });
    </script>
    <script src="/js/led.js"></script>
    <script src="/js/reload.js"></script>
</body>

</html>
